{"ast":null,"code":"function joiResolver(schema) {\n  var _schema = schema;\n  return function (values) {\n    var parsed = _schema.validate(values, {\n      abortEarly: false\n    });\n    if (!parsed.error) {\n      return {};\n    }\n    var results = {};\n    parsed.error.details.forEach(function (error) {\n      results[error.path.join(\".\")] = error.message;\n    });\n    return results;\n  };\n}\nexport { joiResolver };","map":{"version":3,"mappings":"AAAO,SAASA,WAAW,CAACC,MAAM,EAAE;EAClC,IAAMC,OAAO,GAAGD,MAAM;EACtB,OAAO,UAACE,MAAM,EAAK;IACjB,IAAMC,MAAM,GAAGF,OAAO,CAACG,QAAQ,CAACF,MAAM,EAAE;MAAEG,UAAU,EAAE;IAAK,CAAE,CAAC;IAC9D,IAAI,CAACF,MAAM,CAACG,KAAK,EAAE;MACjB,OAAO,EAAE;IACf;IACI,IAAMC,OAAO,GAAG,EAAE;IAClBJ,MAAM,CAACG,KAAK,CAACE,OAAO,CAACC,OAAO,CAAC,UAACH,KAAK,EAAK;MACtCC,OAAO,CAACD,KAAK,CAACI,IAAI,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGL,KAAK,CAACM,OAAO;IACnD,CAAK,CAAC;IACF,OAAOL,OAAO;EAClB,CAAG;AACH","names":["joiResolver","schema","_schema","values","parsed","validate","abortEarly","error","results","details","forEach","path","join","message"],"sources":["../../../src/resolvers/joi-resolver/joi-resolver.ts"],"sourcesContent":["import type { FormErrors } from '../../types';\n\ninterface JoiError {\n  path: (string | number)[];\n  message: string;\n}\n\ninterface JoiResults {\n  success: boolean;\n  error: {\n    details: JoiError[];\n  };\n}\n\ninterface JoiSchema {\n  validate(values: Record<string, any>, options: { abortEarly: boolean }): JoiResults;\n}\n\nexport function joiResolver(schema: any) {\n  const _schema: JoiSchema = schema;\n  return (values: Record<string, any>): FormErrors => {\n    const parsed = _schema.validate(values, { abortEarly: false });\n\n    if (!parsed.error) {\n      return {};\n    }\n\n    const results = {};\n    parsed.error.details.forEach((error) => {\n      results[error.path.join('.')] = error.message;\n    });\n\n    return results;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}